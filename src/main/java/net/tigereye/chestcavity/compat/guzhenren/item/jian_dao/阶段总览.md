# å¤šé‡å‰‘å½±è›Š - é˜¶æ®µæ€»è§ˆ

## ğŸ“Š æ•´ä½“è¿›åº¦

| é˜¶æ®µ | çŠ¶æ€ | å·¥ä½œé‡ | å®Œæˆæ—¥æœŸ | æ–‡æ¡£ |
|------|------|--------|---------|------|
| **é˜¶æ®µ1: æ ¸å¿ƒå®ä½“å¼€å‘** | âœ… å·²å®Œæˆ | 1å‘¨ | 2025-11-14 | [éªŒæ”¶æŠ¥å‘Š](é˜¶æ®µ1éªŒæ”¶æŠ¥å‘Š.md) |
| **é˜¶æ®µ2: ç‰©å“ä¸äº¤äº’** | âœ… å·²å®Œæˆ | 2.5å¤© | 2025-11-14 | [å®Œæˆæ€»ç»“](é˜¶æ®µ2_å®Œæˆæ€»ç»“.md) + [P1ä¿®å¤](P1_BugFix_è·¨ç»´åº¦æ³„æ¼ä¿®å¤æŠ¥å‘Š.md) |
| **é˜¶æ®µ3: ç•Œé¢ç³»ç»Ÿ + Capabilities** | âœ… å·²å®Œæˆ | 1å¤© | 2025-11-14 | [Capabilitiesæ–¹æ¡ˆ](Capabilities_APIé›†æˆæ–¹æ¡ˆ.md) |
| **é˜¶æ®µ4: å¢ç›Šç³»ç»Ÿ** | âœ… å·²å®Œæˆ | 1å¤© | 2025-11-14 | [å®Œæˆæ€»ç»“](é˜¶æ®µ4_å¢ç›Šç³»ç»Ÿ_å®Œæˆæ€»ç»“.md) |
| **é˜¶æ®µ5: AIé€‚é…å™¨** | â¸ï¸ å¾…å¼€å§‹ | 2å¤© | - | è®¡åˆ’v2.1 |
| **é˜¶æ®µ6: æµ‹è¯•ä¸ä¿®å¤** | â¸ï¸ å¾…å¼€å§‹ | 3å¤© | - | è®¡åˆ’v2.1 |

**æ€»ä½“è¿›åº¦**: 67% (4/6é˜¶æ®µå®Œæˆ)

---

## âš ï¸ æ¶æ„é‡æ„é€šçŸ¥ (2025-11-14)

**é‡å¤§å˜æ›´**: ä»ç‰©å“æ¨¡å¼è¿ç§»åˆ°å™¨å®˜æ¨¡å¼

### é‡æ„èƒŒæ™¯
- **åŸè®¾è®¡**: å¤šé‡å‰‘å½±è›Šä½œä¸ºç‹¬ç«‹ç‰©å“ï¼ˆDuochongjianyingGuItemï¼‰ï¼Œå³é”®ç‰©å“è§¦å‘åŠŸèƒ½
- **æ–°è®¾è®¡**: å¤šé‡å‰‘å½±è›Šä½œä¸ºå™¨å®˜æ”¾å…¥èƒ¸è…”ï¼Œé€šè¿‡å™¨å®˜ç³»ç»Ÿè§¦å‘åŠŸèƒ½
- **åŸå› **: ç»Ÿä¸€å‰‘é“ï¼ˆjian_daoï¼‰æ¨¡å—çš„å®ç°æ–¹å¼ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡èƒ¸è…”å†…çš„è›Šè™«å™¨å®˜å®ç°

### é‡æ„å†…å®¹
1. **ç‰©å“æ³¨å†Œ**:
   - âŒ åˆ é™¤: `CCItems.DUOCHONGJIANYING_GU` (å†…éƒ¨æ³¨å†Œ)
   - âœ… æ–°å¢: `CCItems.GUZHENREN_DUOCHONGJIANYING` (å¤–éƒ¨å¼•ç”¨ `guzhenren:duochongjianying`)

2. **åŠŸèƒ½å®ç°**:
   - âŒ åˆ é™¤: `DuochongjianyingGuItem.java` (460è¡Œç‰©å“ç±»)
   - âœ… æ–°å¢: `DuochongjianyingGuOrganBehavior.java` (å™¨å®˜è¡Œä¸ºç±» - TODOå®ç°)
   - âœ… æ³¨å†Œ: åœ¨ `JiandaoOrganRegistry` ä¸­æ³¨å†Œå™¨å®˜

3. **ä¿ç•™æ¨¡å—** (æ— éœ€ä¿®æ”¹):
   - âœ… `PersistentGuCultivatorClone` - åˆ†èº«å®ä½“ç³»ç»Ÿ
   - âœ… `CloneInventoryMenu` + `CloneInventoryScreen` - åˆ†èº«UI
   - âœ… `CloneBoostItemRegistry` - å¢ç›Šç‰©å“ç³»ç»Ÿ
   - âœ… æ‰€æœ‰å®¹å™¨å’ŒScreenæ³¨å†Œ

### çŠ¶æ€å­˜å‚¨å˜æ›´
| é¡¹ç›® | åŸæ–¹å¼ï¼ˆç‰©å“æ¨¡å¼ï¼‰ | æ–°æ–¹å¼ï¼ˆå™¨å®˜æ¨¡å¼ï¼‰ |
|------|-------------------|-------------------|
| æ‰€æœ‰è€…UUID | ç‰©å“NBT | OrganState |
| åˆ†èº«UUID | ç‰©å“NBT | OrganState |
| åˆ†èº«æ•°æ® | ç‰©å“NBT | OrganState |
| è§¦å‘æ–¹å¼ | å³é”®ç‰©å“ | ä¸»åŠ¨æŠ€èƒ½ï¼ˆOrganActivationListenersï¼‰ |

### ç¿»è¯‘é”®ç¡®è®¤
- ç‰©å“ID: `guzhenren:duochongjianying` (guzhenrenæ¨¡ç»„æä¾›)
- ç¿»è¯‘é”®: `item.guzhenren.duochongjianying` âœ… æ­£ç¡®

### è¿ç§»ä»»åŠ¡
- [x] ä¿®æ”¹ `CCItems.java` ä¸ºå¤–éƒ¨å¼•ç”¨
- [x] åˆ›å»º `DuochongjianyingGuOrganBehavior.java` æ¡†æ¶
- [x] åœ¨ `JiandaoOrganRegistry` ä¸­æ³¨å†Œ
- [ ] TODO: å®ç°å™¨å®˜è¡Œä¸ºçš„å®Œæ•´é€»è¾‘ï¼ˆè¿ç§»è‡ªDuochongjianyingGuItemï¼‰
- [ ] TODO: åˆ é™¤ `DuochongjianyingGuItem.java`
- [ ] TODO: æ›´æ–°æ‰€æœ‰é˜¶æ®µæ–‡æ¡£

---

## ğŸ¯ å½“å‰ç„¦ç‚¹: æ¶æ„é‡æ„ + é˜¶æ®µ5 (AIé€‚é…å™¨)

### é˜¶æ®µ4å®Œæˆæ€»ç»“ âœ…
**å®Œæˆæ—¥æœŸ**: 2025-11-14

**äº¤ä»˜ç‰©**:
- âœ… `ICloneBoostEffect.java` (96è¡Œ) - å¢ç›Šæ•ˆæœæ¥å£
- âœ… `CloneBoostItemRegistry.java` æ‰©å±• (+122è¡Œ) - æ•ˆæœæ³¨å†Œå’Œç¤ºä¾‹ç‰©å“
- âœ… 3ä¸ªç¤ºä¾‹å¢ç›Šç‰©å“ (é’»çŸ³ã€å‡‹é›¶éª·é«…å¤´ã€ä¸‹ç•Œä¹‹æ˜Ÿ)
- âœ… `PersistentGuCultivatorClone.java` å¢ç›Šç®¡ç† (+103è¡Œ)
- âœ… ç”Ÿå‘½å‘¨æœŸé›†æˆ (GUIèœå•ã€ç‰©å“ç±»ã€æ¨¡ç»„åˆå§‹åŒ–)

**å…³é”®ç‰¹æ€§**:
- å®Œæ•´çš„å¢ç›Šæ•ˆæœç”Ÿå‘½å‘¨æœŸç®¡ç†
- é˜²é‡å¤åº”ç”¨æœºåˆ¶
- æ™ºèƒ½ç”Ÿå‘½å€¼å¢ç›Šå¤„ç†
- å¼‚å¸¸å®‰å…¨å’Œæ—¥å¿—è®°å½•
- æ˜“äºæ‰©å±•çš„æ¥å£è®¾è®¡

### è¯¦ç»†æ€»ç»“
å‚è§ â†’ [é˜¶æ®µ4_å¢ç›Šç³»ç»Ÿ_å®Œæˆæ€»ç»“.md](é˜¶æ®µ4_å¢ç›Šç³»ç»Ÿ_å®Œæˆæ€»ç»“.md)

---

### é˜¶æ®µ3å®Œæˆæ€»ç»“ âœ…
**å®Œæˆæ—¥æœŸ**: 2025-11-14

**äº¤ä»˜ç‰©**:
- âœ… `CloneInventoryMenu.java` (210è¡Œ) - 7æ§½ä½å®¹å™¨èœå•
- âœ… `CloneInventoryScreen.java` (110è¡Œ) - GUIæ¸²æŸ“ç•Œé¢
- âœ… Capabilities API é›†æˆ (65è¡Œ)
  - `PersistentGuCultivatorClone.getContainerView()`
  - `ChestCavity.registerCapabilities()`
- âœ… å®¹å™¨æ³¨å†Œåˆ° `CCContainers`
- âœ… Screen æ³¨å†Œåˆ° `ChestCavityClientEvents`
- âœ… æ›´æ–° `openInventoryMenu()` æ–¹æ³•

**å…³é”®ç‰¹æ€§**:
- 6ä¸ªè›Šè™«æ§½ä½ï¼ˆä»…æ¥å— `guzhenren:guchong` tagç‰©å“ï¼‰
- 1ä¸ªå¢ç›Šç‰©å“æ§½ä½
- å®Œæ•´çš„ç©å®¶èƒŒåŒ…é›†æˆ
- Shift-Clickå¿«é€Ÿç§»åŠ¨æ”¯æŒ
- æ‰€æœ‰æƒæ ¡éªŒ

### è¯¦ç»†æ–¹æ¡ˆ
å‚è§ â†’ [Capabilities_APIé›†æˆæ–¹æ¡ˆ.md](Capabilities_APIé›†æˆæ–¹æ¡ˆ.md)

---

## âœ… å·²å®Œæˆé˜¶æ®µ

### é˜¶æ®µ3: ç•Œé¢ç³»ç»Ÿ + Capabilities (2025-11-14å®Œæˆ)

**äº¤ä»˜ç‰©**:
- âœ… `CloneInventoryMenu.java` (210è¡Œ) - 7æ§½ä½å®¹å™¨èœå•
- âœ… `CloneInventoryScreen.java` (110è¡Œ) - GUIæ¸²æŸ“ç•Œé¢
- âœ… Capabilities API é›†æˆ (65è¡Œ)
- âœ… å®¹å™¨å’ŒScreenæ³¨å†Œ

**å…³é”®æˆå°±**:
- å®ç°å®Œæ•´çš„7æ§½ä½GUIç³»ç»Ÿ
- æ­£ç¡®é›†æˆ NeoForge 1.21.1 Capabilities API
- ä½¿ç”¨ VanillaContainerWrapper æ–¹æ¡ˆ
- æ§½ä½è¿‡æ»¤å’Œæ‰€æœ‰æƒæ ¡éªŒ

### é˜¶æ®µ2: ç‰©å“ä¸äº¤äº’ (2025-11-14å®Œæˆ)

**äº¤ä»˜ç‰©**:
- âœ… `DuochongjianyingGuItem.java` (460è¡Œ)
- âœ… P1 Bugä¿®å¤: è·¨ç»´åº¦èµ„æºæ³„æ¼
- âœ… æ‰€æœ‰æƒç»‘å®šä¸æ ¡éªŒ
- âœ… å®Œæ•´çš„å¬å”¤/å¬å›é€»è¾‘

**è¯¦ç»†æ€»ç»“**: å‚è§ â†’ [é˜¶æ®µ2_å®Œæˆæ€»ç»“.md](é˜¶æ®µ2_å®Œæˆæ€»ç»“.md)

---

## ğŸ“š å…³é”®æ–‡æ¡£ç´¢å¼•

### è§„åˆ’æ–‡æ¡£
- **[å¤šé‡å‰‘å½±è›Š_å®ç°è®¡åˆ’_v2_ä¿®è®¢ç‰ˆ.md](å¤šé‡å‰‘å½±è›Š_å®ç°è®¡åˆ’_v2_ä¿®è®¢ç‰ˆ.md)** - å®Œæ•´å®æ–½è®¡åˆ’ (v2.1)
- **[Capabilities_APIé›†æˆæ–¹æ¡ˆ.md](Capabilities_APIé›†æˆæ–¹æ¡ˆ.md)** - NeoForge 1.21.1 èƒ½åŠ›ç³»ç»Ÿé›†æˆæ–¹æ¡ˆ

### é˜¶æ®µæ–‡æ¡£
- **[é˜¶æ®µ1éªŒæ”¶æŠ¥å‘Š.md](é˜¶æ®µ1éªŒæ”¶æŠ¥å‘Š.md)** - æ ¸å¿ƒå®ä½“å¼€å‘éªŒæ”¶
- **[é˜¶æ®µ2_ç‰©å“ä¸äº¤äº’_ä»»åŠ¡æ¸…å•.md](é˜¶æ®µ2_ç‰©å“ä¸äº¤äº’_ä»»åŠ¡æ¸…å•.md)** â† **å½“å‰é˜¶æ®µ**

### ä»£ç æ–‡ä»¶
#### å·²å®Œæˆ (é˜¶æ®µ1-3)
- `entity/PersistentGuCultivatorClone.java` (700è¡Œ) - æ ¸å¿ƒå®ä½“ + Capabilities
- `client/PersistentGuCultivatorCloneRenderer.java` (138è¡Œ) - æ¸²æŸ“å™¨
- `ui/CloneInventoryMenu.java` (210è¡Œ) - 7æ§½ä½å®¹å™¨èœå•
- `client/CloneInventoryScreen.java` (110è¡Œ) - GUIç•Œé¢
- `DuochongjianyingGuItem.java` (460è¡Œ) - ç‰©å“ç±»
- `CCEntities.java` (æ›´æ–°) - å®ä½“æ³¨å†Œ
- `CCItems.java` (æ›´æ–°) - ç‰©å“æ³¨å†Œ
- `CCContainers.java` (æ›´æ–°) - å®¹å™¨æ³¨å†Œ
- `ChestCavity.java` (æ›´æ–°) - Capabilitiesæ³¨å†Œ
- `ChestCavityClientEvents.java` (æ›´æ–°) - Screenæ³¨å†Œ

---

## ğŸ”‘ å…³é”®å†³ç­–è®°å½•

### v2.1 æ–°å¢ (2025-11-14)
1. **Capabilities APIæ­£ç¡®é›†æˆæ–¹æ¡ˆ**
   - é—®é¢˜: `Entity.getCapability()` åœ¨ NeoForge 1.21.1 ä¸º final æ–¹æ³•
   - è§£å†³: ä½¿ç”¨ `RegisterCapabilitiesEvent` + `VanillaContainerWrapper`
   - å®æ–½: é˜¶æ®µ3æ·»åŠ  `getContainerView()` å’Œ `registerCapabilities()`

2. **é˜¶æ®µ1éªŒæ”¶å‘ç°**
   - å®ä½“å·²å®Œæ•´å®ç° (633è¡Œ)
   - æ¸²æŸ“å™¨å·²å®Œæˆ (138è¡Œ)
   - ä¸´æ—¶æ–¹æ¡ˆ: `getInventory()` å…¬å…±æ–¹æ³•

### v2.0 ä¿®è®¢ (è¯„å®¡å)
1. **MVPå»é™¤èƒ¸è…”å¤åˆ¶** - é™ä½å¤æ‚åº¦
2. **ä¸“ç”¨ç‰©å“åºåˆ—åŒ–** - é¿å…ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¤ç”¨
3. **Shiftä¼˜å…ˆå¤„ç†** - ä¿®æ­£äº¤äº’ä¸€è‡´æ€§
4. **AIåˆ†é¢‘æ‰§è¡Œ** - æ€§èƒ½ä¼˜åŒ– (æ¯3 tick)

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¼€å§‹ (é˜¶æ®µ5: AIé€‚é…å™¨)
1. åˆ›å»º `GuCultivatorAIAdapter` - AIé€‚é…å™¨ç±»
2. å®ç° `initializeAIData()` - åˆå§‹åŒ–AIæ•°æ®
3. å®ç° `tickGuUsage()` - è›Šè™«é‡Šæ”¾é€»è¾‘
4. å®ç° `releaseGu()` - æ”¾ä¸»æ‰‹é€»è¾‘
5. é›†æˆåˆ°åˆ†èº« `baseTick()` æ–¹æ³•

### å‡†å¤‡å·¥ä½œ (é˜¶æ®µ6: æµ‹è¯•ä¸ä¿®å¤)
- å•å…ƒæµ‹è¯• (å¢ƒç•Œè®¡ç®—ã€èµ„æºåˆå§‹åŒ–ã€NBTåºåˆ—åŒ–)
- é›†æˆæµ‹è¯• (å¬å”¤/å¬å›ã€ç•Œé¢ã€AIã€å¢ç›Šç³»ç»Ÿ)
- è¾¹ç•Œæµ‹è¯• (æ­»äº¡æ¢å¤ã€è·¨ç»´åº¦ã€æ‰€æœ‰æƒ)

---

## âš ï¸ å·²çŸ¥é—®é¢˜ä¸é£é™©

### é˜¶æ®µ3-4é—ç•™
- âš ï¸ **GUIçº¹ç†æœªå®ç°** (P2çº§åˆ« - ä¸å½±å“åŠŸèƒ½)
  - éœ€è¦åˆ›å»º: `assets/chestcavity/textures/gui/clone_inventory.png`
  - æ¨èå°ºå¯¸: 176x166 åƒç´ 
  - å¤‡ç”¨æ–¹æ¡ˆ: å½“å‰ä½¿ç”¨åŸç‰ˆçº¹ç†æ‹¼æ¥

### æœªæ¥é£é™©
- å¢ç›Šç‰©å“ç³»ç»Ÿçš„æ€§èƒ½å½±å“
- AIé€‚é…å™¨çš„æ‰§è¡Œé¢‘ç‡ä¼˜åŒ–
- å¤šä¸ªåˆ†èº«åŒæ—¶å­˜åœ¨çš„æ€§èƒ½é—®é¢˜

---

## ğŸ“ åä½œä¸æ”¯æŒ

### è·å–å¸®åŠ©
- æŸ¥çœ‹è¯¦ç»†ä»»åŠ¡æ¸…å•: `é˜¶æ®µ2_ç‰©å“ä¸äº¤äº’_ä»»åŠ¡æ¸…å•.md`
- å‚è€ƒé˜¶æ®µ1å®ç°: `PersistentGuCultivatorClone.java`
- æŸ¥çœ‹Capabilitiesæ–¹æ¡ˆ: `Capabilities_APIé›†æˆæ–¹æ¡ˆ.md`

### åé¦ˆé—®é¢˜
- è®°å½•åˆ°å¯¹åº”é˜¶æ®µæ–‡æ¡£çš„"å·²çŸ¥é—®é¢˜"ç« èŠ‚
- æ›´æ–°æœ¬æ–‡æ¡£çš„"å·²çŸ¥é—®é¢˜ä¸é£é™©"

---

**æœ€åæ›´æ–°**: 2025-11-14
**å½“å‰ç‰ˆæœ¬**: v2.1
**æ€»ä½“çŠ¶æ€**: ğŸŸ¢ å¥åº· (é˜¶æ®µ1-4å®Œæˆ, é˜¶æ®µ5å¾…å¼€å§‹)
**å·²å®Œæˆ**: 67% (4/6é˜¶æ®µ)
