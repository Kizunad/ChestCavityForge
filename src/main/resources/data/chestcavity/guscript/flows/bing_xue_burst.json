{
  "initial_state": "idle",
  "states": {
    "idle": {
      "transitions": [
        { "trigger": "start", "target": "releasing" }
      ]
    },
    "charging": {
      "transitions": [
        { "trigger": "auto", "target": "idle", "min_ticks": 1 }
      ]
    },
    "charged": {
      "transitions": [
        { "trigger": "auto", "target": "releasing", "min_ticks": 1 }
      ]
    },
    "releasing": {
      "enter_actions": [
        { "type": "set_variable_from_param", "param": "burst.scale", "name": "burst.scale", "default": 1.0 },
        {
          "type": "emit_fx",
          "fx": "chestcavity:bing_xue_burst",
          "base_intensity": 1.0,
          "scale_variable": "burst.scale",
          "default_scale": 1.0
        },
        {
          "type": "replace_blocks_sphere",
          "radius": 6.0,
          "radius_param": "burst.radius",
          "max_hardness": 4.0,
          "forbidden_blocks": [
            "minecraft:bedrock",
            "minecraft:obsidian"
          ],
          "replacements": [
            { "block": "minecraft:packed_ice", "weight": 3 },
            { "block": "minecraft:snow_block", "weight": 2 },
            { "block": "minecraft:powder_snow", "weight": 1 }
          ],
          "place_snow_layers": true,
          "snow_layers_min": 1,
          "snow_layers_max": 3,
          "origin": "performer"
        }
      ],
      "transitions": [
        { "trigger": "auto", "target": "cooldown", "min_ticks": 1 }
      ]
    },
    "cooldown": {
      "transitions": [
        { "trigger": "auto", "target": "idle", "min_ticks": 20 }
      ]
    },
    "cancel": {
      "transitions": [
        { "trigger": "auto", "target": "cooldown", "min_ticks": 1 }
      ]
    }
  }
}
