# 四转·剑荡蛊 · 禁止事项与规范

## 禁止事项（红线）

- 禁止直接操作 LinkageChannel/ledger.remove（统一通过 `LedgerOps`）
- 禁止分散/重复的冷却计时器（统一使用 `MultiCooldown`）
- 禁止在构造函数内做注册或重逻辑（避免早期 classloading）
- 禁止产生客户端刷屏日志/粒子/音效（默认克制，调试开关默认关闭）
- 禁止对玩家/飞剑自伤与反弹循环（同帧源排除+自伤永久免疫）
- 禁止超过约定的百分比减伤上限（60%）与忽略伤害地板（0.20）
- 禁止以 Java 类充当“配置”（本器官以 Markdown 常量清单为准）

## 安全红线

- 网络包处理保持静音（INFO 以下），避免注入与日志膨胀
- 仅必要状态同步；不信任客户端来源参数

## 性能红线

- 每波/目标命中节流生效；波包生成有内置限流
- Shockfield 最长寿命 10s；最低振幅 0.02 即熄灭

## 代码规范

- 代码风格：遵循项目现有 Checkstyle/Spotless（若有）；方法短小、单一职责
- 命名约定：公共常量 UPPER_SNAKE_CASE；行为类使用枚举单例注册
- 目录结构：
  - 需求与设计：`docs/jiandanggu/`
  - 逻辑实现：`compat/guzhenren/item/jian_dao/behavior/...`
- Git 提交规范：
  - 前缀 `[jiandanggu]` + 范围（docs/logic/test）+ 简述
  - 小步提交，信息可读，关联 Issue/计划项
- 文档规范：
  - 需求/技术/规范三文档成套维护；重要变更更新需求与技术图

