# 手动测试清单（游戏内测试）

> 在重大更新前或重构完成后，按此清单进行游戏内验证

---

## 📋 基础功能测试

### 1. 器官装备与卸下

**测试目标**：验证器官基本生命周期

- [ ] 打开胸腔界面（默认按键或命令）
- [ ] 装备一个器官（如白石蛊）
- [ ] 关闭界面，观察效果是否生效
- [ ] 重新打开界面，卸下器官
- [ ] 验证效果消失（如属性加成、护盾等）
- [ ] **检查日志无错误/警告**

**预期结果**：装备/卸下流畅，无残留效果，无报错

---

### 2. 主动能力触发

**测试器官**：白石蛊、剑影蛊、火衣蛊等有主动技能的器官

- [ ] 装备器官
- [ ] 按下主动技能热键（默认 V 键）
- [ ] 观察技能效果（伤害、特效、音效等）
- [ ] 验证冷却显示正确
- [ ] 在冷却期间尝试再次触发（应失败）
- [ ] 等待冷却结束，再次触发（应成功）

**预期结果**：
- ✅ 技能正常触发
- ✅ 冷却时间准确
- ✅ 冷却期间无法重复触发
- ✅ 资源消耗正确（真元/精力）

---

### 3. 被动效果

**测试器官**：冰肌蛊（护盾）、清热蛊（负面移除）等

- [ ] 装备被动器官
- [ ] 观察被动效果持续生效（如护盾自动恢复）
- [ ] 等待多个慢速 tick 周期（至少 10 秒）
- [ ] 验证效果稳定，无异常波动
- [ ] 卸下器官，验证被动效果停止

**预期结果**：
- ✅ 被动效果持续稳定
- ✅ 无性能问题（FPS 不掉帧）
- ✅ 卸下后效果立即停止

---

## 🔥 战斗测试

### 4. 命中触发效果

**测试器官**：剑影蛊、骨强蛊等有 OnHit 效果的器官

- [ ] 装备器官
- [ ] 攻击生物（如僵尸、骷髅）
- [ ] 观察额外效果（额外伤害、投射物、特效等）
- [ ] 连续攻击多个目标，验证稳定性
- [ ] 检查冷却（如果有内置 CD）

**预期结果**：
- ✅ 命中效果正常触发
- ✅ 多次命中不会重复叠加错误
- ✅ 无延迟或卡顿

---

### 5. 受伤触发效果

**测试器官**：铁骨蛊（受伤减伤）、全勇明蛊（受伤护盾）等

- [ ] 装备器官
- [ ] 让生物攻击玩家
- [ ] 观察受伤时的触发效果（减伤、护盾、反击等）
- [ ] 验证多次受伤效果一致

**预期结果**：
- ✅ 受伤效果正常触发
- ✅ 数值计算正确（减伤比例、护盾量等）

---

### 6. DoT（持续伤害）与反应系统

**测试组合**：火衣蛊 + 火油蛊（火 + 油 -> 爆炸）

- [ ] 装备火衣蛊
- [ ] 对敌人使用火油蛊（或其他施加油涂层的技能）
- [ ] 观察火衣光环接触到油涂层敌人时触发爆炸
- [ ] 验证爆炸伤害正确
- [ ] 验证油涂层被消耗（不会重复触发）

**预期结果**：
- ✅ 反应正确触发
- ✅ 伤害数值正确
- ✅ 状态正确消耗（不会无限循环）

---

## 🔄 联动与 Combo 测试

### 7. 多器官联动

**测试组合**：白石蛊 + 黑石蛊（力道累加）

- [ ] 装备白石蛊，观察力道值（可通过 /linkage dump 查看）
- [ ] 再装备黑石蛊，验证力道值累加
- [ ] 卸下一个，验证力道值正确减少
- [ ] 全部卸下，验证力道值归零

**预期结果**：
- ✅ 联动通道正确累加
- ✅ 卸下后正确清理
- ✅ 无账本残留

---

### 8. Combo 技能触发

**测试器官**：五行化痕（需要连续命中）

- [ ] 装备五行相关器官
- [ ] 连续攻击同一目标 3 次
- [ ] 观察 Combo 技能触发（特殊效果/额外伤害）
- [ ] 等待时间窗口过期，验证 Combo 重置
- [ ] 再次连击，验证可再次触发

**预期结果**：
- ✅ Combo 在达到阈值时触发
- ✅ 超时后正确重置
- ✅ 可重复触发

---

## 💾 数据持久化测试

### 9. 存档加载

- [ ] 装备多个器官（至少 5 个）
- [ ] 触发主动技能，设置冷却
- [ ] 退出游戏并重新加载存档
- [ ] 验证器官仍在胸腔中
- [ ] 验证冷却时间正确恢复
- [ ] 验证资源（真元/精力）正确恢复

**预期结果**：
- ✅ 所有数据正确保存和加载
- ✅ 无数据丢失
- ✅ 冷却时间准确

---

### 10. 跨维度传送

- [ ] 装备器官
- [ ] 进入下界/末地
- [ ] 验证器官效果仍然生效
- [ ] 返回主世界
- [ ] 再次验证效果

**预期结果**：
- ✅ 跨维度传送不影响器官功能
- ✅ 无数据丢失

---

## 🐛 边界情况测试

### 11. 资源耗尽

- [ ] 将真元/精力消耗至极低
- [ ] 尝试触发需要资源的主动技能
- [ ] 验证技能无法触发且有提示
- [ ] 补充资源后再次尝试
- [ ] 验证技能正常触发

**预期结果**：
- ✅ 资源不足时技能无法触发
- ✅ 有明确的失败反馈（消息/音效）
- ✅ 资源充足后恢复正常

---

### 12. 大量器官同时装备

- [ ] 装备尽可能多的器官（20+ 个）
- [ ] 观察游戏性能（FPS）
- [ ] 触发多个主动技能
- [ ] 受到攻击，触发多个被动效果
- [ ] 检查日志是否有性能警告

**预期结果**：
- ✅ 性能可接受（FPS > 30）
- ✅ 所有器官正常工作
- ✅ 无崩溃或严重卡顿

---

### 13. 快速装备/卸下

- [ ] 快速重复装备和卸下同一器官（10 次）
- [ ] 验证效果每次都正确应用和移除
- [ ] 检查是否有账本残留或负冷却

**预期结果**：
- ✅ 快速切换不会导致错误
- ✅ 无状态残留
- ✅ 无报错

---

## 🎨 客户端测试

### 14. UI 与渲染

- [ ] 打开胸腔界面，验证 UI 正常显示
- [ ] 观察器官图标、工具提示
- [ ] 检查主动技能冷却显示（如有 UI）
- [ ] 观察特效渲染（粒子、光效等）
- [ ] 验证自定义渲染（如小光幻象、剑影等）

**预期结果**：
- ✅ UI 清晰无错位
- ✅ 特效正常渲染
- ✅ 自定义实体正确显示

---

### 15. 多人游戏同步

**（如果支持多人）**

- [ ] 玩家 A 装备器官
- [ ] 玩家 B 观察玩家 A 的效果（特效、实体等）
- [ ] 玩家 A 触发主动技能
- [ ] 玩家 B 观察是否正确同步
- [ ] 验证伤害计算在服务端正确执行

**预期结果**：
- ✅ 视觉效果正确同步
- ✅ 游戏逻辑在服务端正确执行
- ✅ 无客户端/服务端不一致

---

## 🔧 调试工具验证

### 16. 命令行工具

- [ ] 运行 `/linkage dump`，验证通道数据正确
- [ ] 运行 `/soul nav dump <soulName>`（如果有灵魂系统）
- [ ] 使用调试命令添加/移除器官
- [ ] 验证命令输出清晰易读

**预期结果**：
- ✅ 命令正常工作
- ✅ 输出信息准确

---

## ✅ 测试通过标准

**所有上述测试项通过**，且：

- ✅ 无崩溃或严重 Bug
- ✅ 日志中无 ERROR 级别错误
- ✅ WARN 级别警告可解释且无害
- ✅ 性能可接受（FPS 稳定）
- ✅ 玩家体验流畅

---

## 📝 测试记录模板

```
测试日期: YYYY-MM-DD
测试者: XXX
版本: vX.X.X
环境: 单人/多人 | 原版/模组包

通过项: X / 16
失败项:
  - [测试项编号] 描述问题

其他发现:
  - ...

总结:
  - 可发布 / 需修复
```

---

**最后更新**：2025-01-28
